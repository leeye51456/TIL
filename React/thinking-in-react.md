# React로 사고하기

1. UI를 컴포넌트 계층 구조로 나누기
   - 단일 책임 원칙(SRP, Single Responsibility Principle)
     - 각 컴포넌트가 데이터 모델의 한 조각을 나타내도록 분리
   - 데이터 모델이 올바르게 만들어졌다면 UI가 잘 연결될 것
     - UI와 데이터 모델은 같은 information architecture를 따르는 편
2. React로 정적인 버전 만들기
   - 데이터 모델을 가지고, 아무 동작 없이 UI 렌더링만 되는 버전 만들기
     - 이 단계의 결과: 재사용 가능한 컴포넌트들의 라이브러리
     - 정적 버전이기 때문에 각 컴포넌트의 메서드는 `render()`만 있음
   - 상호작용은 나중에 생각
     - 다른 컴포넌트를 재사용하는 컴포넌트를 만들고 props를 이용해 데이터 전달
     - State는 사용하지 말 것
   - 간단한 예시에서는 하향식으로 만드는 게 더 쉬운 편이지만, 큰 프로젝트에서는 상향식으로 만들고 테스트를 작성하면서 개발하는 게 더 쉬움
3. UI state의 완전한 최소 표현 찾기
   - 중복 배제(DRY, Don’t Repeat Yourself)
     - 애플리케이션에 필요한 state의 최소 집합 사용
   - 반드시 state가 되어야 하는지 체크
     1. 부모에게서 props로 전달되면 state가 아님
     2. 시간이 지나도 변하지 않으면 state가 아님
     3. 컴포넌트 안의 다른 state나 props로 계산 가능하면 state가 아님
4. State가 있어야 할 위치 찾기
   - React는 컴포넌트 계층 구조를 따라 아래로 내려가는 단방향 데이터 흐름을 따름
   - 결정 방법
     1. State를 기반으로 렌더링하는 모든 컴포넌트 찾기
     2. 공통 소유 컴포넌트 찾기
        - 계층 구조 내에서 특정 state가 필요한 모든 컴포넌트의 상위에 있는 컴포넌트**(가장 가까운 공통 조상이겠지?)**
        - 더 상위에 있는 컴포넌트에 state가 있어야 함
     3. State를 넣을 적절한 컴포넌트가 안 보이면, 그 state를 포함한 컴포넌트를 하나 만들어서 공통 소유 컴포넌트의 상위 계층에 추가
5. 역방향 데이터 흐름 추가
   - 데이터를 상위 컴포넌트로 올려보내야 하는 경우
     - 상위 컴포넌트에서 콜백을 정의해 props로 내려보내기
     - 하위 컴포넌트에서 props로 받은 콜백을 호출하여 데이터 올려보내기
